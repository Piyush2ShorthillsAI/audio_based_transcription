<!DOCTYPE html>
<html>
<head>
    <title>localStorage Test</title>
</head>
<body>
    <h2>localStorage Persistence Test</h2>
    <button onclick="addTestData()">Add Test Data</button>
    <button onclick="checkData()">Check Data</button>
    <button onclick="clearData()">Clear Data</button>
    <div id="output"></div>

    <script>
        function addTestData() {
            const testRecents = [
                { contact: { id: '1', name: 'John Doe', email: 'john@test.com' }, accessedAt: new Date().toISOString() },
                { contact: { id: '2', name: 'Jane Smith', email: 'jane@test.com' }, accessedAt: new Date().toISOString() }
            ];
            
            const testFavorites = [
                { id: '1', name: 'John Doe', email: 'john@test.com' },
                { id: '3', name: 'Bob Wilson', email: 'bob@test.com' }
            ];
            
            localStorage.setItem('recentContacts', JSON.stringify(testRecents));
            localStorage.setItem('favoriteContacts', JSON.stringify(testFavorites));
            
            document.getElementById('output').innerHTML = '<p style="color:green">‚úÖ Test data added to localStorage</p>';
        }
        
        function checkData() {
            const recents = localStorage.getItem('recentContacts');
            const favorites = localStorage.getItem('favoriteContacts');
            
            const output = document.getElementById('output');
            output.innerHTML = `
                <h3>localStorage Contents:</h3>
                <p><strong>Recent Contacts:</strong> ${recents ? JSON.parse(recents).length + ' items' : 'empty'}</p>
                <p><strong>Favorites:</strong> ${favorites ? JSON.parse(favorites).length + ' items' : 'empty'}</p>
                <pre style="background:#f0f0f0; padding:10px; border-radius:5px;">
Recent: ${recents || 'null'}

Favorites: ${favorites || 'null'}
                </pre>
            `;
        }
        
        function clearData() {
            localStorage.removeItem('recentContacts');
            localStorage.removeItem('favoriteContacts');
            document.getElementById('output').innerHTML = '<p style="color:red">üóëÔ∏è localStorage cleared</p>';
        }
    </script>
</body>
</html>